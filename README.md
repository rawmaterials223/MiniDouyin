# MiniDouyin

## 抖音项目服务端

### 配置

version：

**MySQL8.0**

**Go 1.19**


```shell
mysql -uroot -p"password" < example.sql
```

### 启动

工程无其他依赖，直接编译运行即可

```shell
go build && ./MiniDouyin
```

### 功能说明

1. 基础功能

- 用户管理：服务器编译运行后，所有用户信息将存储在数据库中，不会删除。所有用户拥有鉴权`token`作为身份认证的唯一标识；用户可以查看自己或他人的关注数与粉丝数。

- 视频上传：视频上传后保存到本地`public`目录中，以`用户id_视频文件名`的形式存储，格式不限。

2. 互动功能

- 点赞操作：用户可以点赞某一视频，或者取消点赞；在喜欢列表中，可以查看所有点赞视频的信息，包括封面、点赞数与评论数。

- 评论操作：用户可以在视频下方评论，在某一视频的评论列表中，可以查看评论者的信息以及评论的创建时间和具体内容。

3. 社交功能

- 关注列表：用户可以在他人的个人主页中选择关注或取消关注，也可在自己的个人主页中查看关注列表。

- 聊天操作

### 测试

test 目录下为不同场景的功能测试case，可用于验证功能实现正确性

其中 common.go 中的 _serverAddr_ 为服务部署的地址，默认为本机地址，可以根据实际情况修改

测试数据写在 demo_data.go 中，用于列表接口的 mock 测试

### 目录说明

`repository` 使用MySQL数据库，定义各个数据结构

`service` 处理逻辑

`controller` 接收客户端信息

`public` 用户上传的视频文件

`util` 日志等工具